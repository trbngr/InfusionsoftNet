//----------------------
// <auto-generated>
// </auto-generated>
//----------------------
using LanguageExt;

namespace Infusion.Model
{
    public class {{ Name | normalize }} : Record<{{ Name | normalize }}>
    {
      {% for prop in Properties -%}
      public readonly {{ prop.Type }} {{ prop.Name | normalize }};
      {% endfor -%}

      public {{ Name | normalize }}({% for prop in Properties -%}{{ prop.Type }} {{ prop.VariableName }} = default{% if forloop.last == false %}, {% endif %}{% endfor %})
      {
        {% for prop in Properties -%}
        {{ prop.Name | normalize }} = {{ prop.VariableName }};
        {% endfor %}
      }

      public {{ Name | normalize }} Copy({% for prop in Properties -%}{{ prop.OptionalTypeName }} {{ prop.VariableName }} = default{% if forloop.last == false %}, {% endif %}{% endfor %}) => new {{ Name | normalize }}(
      {% for prop in Properties -%}
      {% if prop.IsOptionalType -%}
      {{ prop.VariableName }}:  {{ prop.VariableName }} ?? {{ prop.Name | normalize }}{% if forloop.last == false %}, {% endif %}
      {% else -%}
      {{ prop.VariableName }}:  {{ prop.VariableName }} == default ? {{ prop.Name | normalize }} : {{ prop.VariableName }}{% if forloop.last == false %}, {% endif %}
      {% endif -%}
      {% endfor %}
      );
    }
}